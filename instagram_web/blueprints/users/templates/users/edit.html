{% extends "_layout.html"%} {% block title %} {% endblock%} {% block content %}
{% with messages = get_flashed_messages(with_categories=true) %} {% if messages
%} {% for category, message in messages %}


<div class="mt-3 alert alert-danger">{{ errors }}</div>

 {% endfor %}

{#flask longin#}
 {% if current_user.id == user_id %}

 <div class="m-3">
   <h1>Edit {{ current_user.username}}'s Profile</h1>
 </div>



 <form
   class="mx-3 needs-validation"
   action="{{ url_for('users.update', id=current_user.id) }}"
   method="POST"
 >
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
   <div class="form-group">
     <label for="Username">Username</label>
     <input
       type="text"
       class="form-control"
       id="username"
       placeholder="Enter username"
       name="username"
       value="{{current_user.username}}"
       required
     />
   </div>
   <div class="form-group">
     <label for="Email">Email address</label>
     <input
       type="email"
       class="form-control"
       id="email"
       placeholder="Enter email"
       name="email"
       value="{{current_user.email}}"
       required
     />
     <small id="emailHelp" class="form-text text-muted"
       ></small
     >
   </div>
   <div class="form-group">
     <label for="description">Description</label>
     <input
       rows="5"
       type="textarea"
       class="form-control"
       id="description"
       value="{{current_user.description}}"
       name="description"
     />
   </div>

   <div class="form-group">
     <label for="password">Password</label>
     <input
       type="password"
       class="form-control"
       id="password"
       placeholder="Password"
       name="password"
       required
     />
   </div>
   <button type="submit" class="btn btn-primary">Submit</button>
 </form>

 {% endif %}


 {% endblock %}